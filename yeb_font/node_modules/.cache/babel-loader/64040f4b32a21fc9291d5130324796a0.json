{"remainingRequest":"D:\\qianduan\\h\\yeb\\node_modules\\babel-loader\\lib\\index.js!D:\\qianduan\\h\\yeb\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\qianduan\\h\\yeb\\src\\utils\\api.js","dependencies":[{"path":"D:\\qianduan\\h\\yeb\\src\\utils\\api.js","mtime":1632470104159},{"path":"D:\\qianduan\\h\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\qianduan\\h\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\qianduan\\h\\yeb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXguanMnOyAvLyDor7fmsYLmi6bmiKrlmajvvIzlr7nor7fmsYLliqDkuIrojrflvpfnmoR0b2tlbgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyDor7fmsYLlrZjlnKh0b2tlbuivt+axguaQuuW4pnRva2VuCiAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuU3RyJyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7Cn0pOyAvLyDmi6bmiKrlmagg5a+56K+35rGC5aSx6LSl6L+b6KGM57uf5LiA55qE5aSE55CGCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgLy8g5Lia5Yqh6YC76L6R6ZSZ6K+vCiAgaWYgKHN1Y2Nlc3Muc3RhdHVzICYmIHN1Y2Nlc3Muc3RhdHVzID09PSAyMDApIHsKICAgIGlmIChzdWNjZXNzLmRhdGEuY29kZSA9PT0gNTAwIHx8IHN1Y2Nlc3MuZGF0YS5jb2RlID09PSA0MDEgfHwgc3VjY2Vzcy5kYXRhLmNvZGUgPT09IDQwMykgewogICAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgICBtZXNzYWdlOiBzdWNjZXNzLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChzdWNjZXNzLmRhdGEubWVzc2FnZSkgewogICAgICBNZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tZXNzYWdlCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT09IDUwNCB8fCBlcnJvci5yZXNwb25zZS5jb2RlID09PSA0MDQpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5pyN5Yqh5Zmo5a6V5py677yf5Ye66ZSZ5LqG5Ze377yBJwogICAgfSk7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5jb2RlID09PSA0MDMpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5p2D6ZmQ5LiN6Laz77yM6K+36IGU57O7566h55CG5ZGYJwogICAgfSk7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5jb2RlID09PSA0MDEpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5bCa5pyq55m75b2V77yM6K+355m75b2VJwogICAgfSk7IC8vIOi3s+i9rOWIsOeZu+W9lemhtemdogoKICAgIHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgfSBlbHNlIHsKICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YS5jb2RlCiAgICAgIH0pOwogICAgfQogIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtcmV0dXJuCgoKICByZXR1cm47Cn0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKCnZhciBiYXNlID0gJyc7IC8vIOS8oOmAgWpzb27moLzlvI/nmoRnZXTor7fmsYIKCmV4cG9ydCB2YXIgZ2V0UmVxdWVzdCA9IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZ2V0JywKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10ZW1wbGF0ZS1jdXJseS1pbi1zdHJpbmcKICAgIHVybDogYmFzZSArICcnICsgdXJsLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07IC8vIOS8oOmAgWpzb27moLzlvI/nmoRwb3N06K+35rGCCgpleHBvcnQgdmFyIHBvc3RSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncG9zdCcsCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGVtcGxhdGUtY3VybHktaW4tc3RyaW5nCiAgICB1cmw6IGJhc2UgKyAnJyArIHVybCwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OyAvLyDkvKDpgIFqc29u5qC85byP55qEcHV06K+35rGCCgpleHBvcnQgdmFyIHB1dFJlcXVlc3QgPSBmdW5jdGlvbiBwdXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGVtcGxhdGUtY3VybHktaW4tc3RyaW5nCiAgICB1cmw6IGJhc2UgKyAnJyArIHVybCwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OyAvLyDkvKDpgIFqc29u5qC85byP55qEcHV06K+35rGCCgpleHBvcnQgdmFyIGRlbGV0ZVJlcXVlc3QgPSBmdW5jdGlvbiBkZWxldGVSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ2RlbGV0ZScsCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGVtcGxhdGUtY3VybHktaW4tc3RyaW5nCiAgICB1cmw6IGJhc2UgKyAnJyArIHVybCwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9Ow=="},{"version":3,"sources":["D:/qianduan/h/yeb/src/utils/api.js"],"names":["axios","Message","router","interceptors","request","use","config","window","sessionStorage","getItem","headers","Authorization","error","console","log","response","success","status","data","code","message","replace","base","getRequest","url","params","method","postRequest","putRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport {\r\n  Message\r\n} from 'element-ui'\r\nimport router from '../router/index.js'\r\n\r\n// 请求拦截器，对请求加上获得的token\r\naxios.interceptors.request.use(config => {\r\n  // 请求存在token请求携带token\r\n  if (window.sessionStorage.getItem('tokenStr')) {\r\n    config.headers.Authorization = window.sessionStorage.getItem('tokenStr')\r\n  }\r\n  return config\r\n}, error => {\r\n  console.log(error)\r\n})\r\n\r\n// 拦截器 对请求失败进行统一的处理\r\naxios.interceptors.response.use(success => {\r\n  // 业务逻辑错误\r\n  if (success.status && success.status === 200) {\r\n    if (success.data.code === 500 || success.data.code === 401 || success.data.code === 403) {\r\n      Message.error({\r\n        message: success.data.message\r\n      })\r\n      return\r\n    }\r\n    if (success.data.message) {\r\n      Message.success({\r\n        // eslint-disable-next-line no-undef\r\n        message: success.data.message\r\n      })\r\n    }\r\n  }\r\n  return success.data\r\n}, error => {\r\n  if (error.response.code === 504 || error.response.code === 404) {\r\n    Message.error({\r\n      message: '服务器宕机？出错了嗷！'\r\n    })\r\n  } else if (error.response.code === 403) {\r\n    Message.error({\r\n      message: '权限不足，请联系管理员'\r\n    })\r\n  } else if (error.response.code === 401) {\r\n    Message.error({\r\n      message: '尚未登录，请登录'\r\n    })\r\n    // 跳转到登录页面\r\n    router.replace('/')\r\n  } else {\r\n    if (error.response.data.message) {\r\n      Message.error({\r\n        message: error.response.data.code\r\n      })\r\n    }\r\n  }\r\n  // eslint-disable-next-line no-useless-return\r\n  return\r\n}\r\n)\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst base = ''\r\n// 传送json格式的get请求\r\nexport const getRequest = (url, params) => {\r\n  return axios({\r\n    method: 'get',\r\n    // eslint-disable-next-line no-template-curly-in-string\r\n    url: base + '' + url,\r\n    data: params\r\n  })\r\n}\r\n// 传送json格式的post请求\r\nexport const postRequest = (url, params) => {\r\n  return axios({\r\n    method: 'post',\r\n    // eslint-disable-next-line no-template-curly-in-string\r\n    url: base + '' + url,\r\n    data: params\r\n  })\r\n}\r\n// 传送json格式的put请求\r\nexport const putRequest = (url, params) => {\r\n  return axios({\r\n    method: 'put',\r\n    // eslint-disable-next-line no-template-curly-in-string\r\n    url: base + '' + url,\r\n    data: params\r\n  })\r\n}// 传送json格式的put请求\r\nexport const deleteRequest = (url, params) => {\r\n  return axios({\r\n    method: 'delete',\r\n    // eslint-disable-next-line no-template-curly-in-string\r\n    url: base + '' + url,\r\n    data: params\r\n  })\r\n}\r\n"]}]}