{"remainingRequest":"D:\\yeb\\node_modules\\babel-loader\\lib\\index.js!D:\\yeb\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\yeb\\src\\main.js","dependencies":[{"path":"D:\\yeb\\src\\main.js","mtime":1634286084777},{"path":"D:\\yeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\yeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\yeb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJEOlxceWViXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJEOlxceWViXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuanMiOwppbXBvcnQgIkQ6XFx5ZWJcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiRDpcXHllYlxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBFbGVtZW50VUkgZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCAnZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvaW5kZXguY3NzJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgJ2ZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLmNzcyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwoKaW1wb3J0IHsgZ2V0UmVxdWVzdCwgcG9zdFJlcXVlc3QsIHB1dFJlcXVlc3QsIGRlbGV0ZVJlcXVlc3QgfSBmcm9tICcuL3V0aWxzL2FwaSc7CmltcG9ydCB7IGluaXRNZW51IH0gZnJvbSAnLi91dGlscy9tZW51cyc7ClZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlOwpWdWUudXNlKEVsZW1lbnRVSSk7ClZ1ZS5wcm90b3R5cGUucG9zdFJlcXVlc3QgPSBwb3N0UmVxdWVzdDsKVnVlLnByb3RvdHlwZS5nZXRSZXF1ZXN0ID0gZ2V0UmVxdWVzdDsKVnVlLnByb3RvdHlwZS5wdXRSZXF1ZXN0ID0gcHV0UmVxdWVzdDsKVnVlLnByb3RvdHlwZS5kZWxldGVSZXF1ZXN0ID0gZGVsZXRlUmVxdWVzdDsgLy8g6Lev55Sx5a+86Iiq5a6I5Y2rCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAvLyDlrZjlnKh0b2tlbiDor6XnlKjmiLflt7Lnu4/nmbvlvZXliJ3lp4vljJbot6/nlLEKICBjb25zb2xlLmxvZygn6Lev55Sx5a+86Iiq5a6I5Y2rZnJvbe+8micgKyBmcm9tLnBhdGgpOwogIGNvbnNvbGUubG9nKCfot6/nlLHlr7zoiKrlrojljat0b++8micgKyB0by5wYXRoKTsKCiAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpKSB7CiAgICBpbml0TWVudShyb3V0ZXIsIHN0b3JlKTsKCiAgICBpZiAoIXdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHsKICAgICAgLy8g5LiN5a2Y5Zyo55So5oi35L+h5oGvIOiOt+WPlueUqOaIt+S/oeaBryDlubblrZjlhaVzZXNzaW9u5LitCiAgICAgIHJldHVybiBnZXRSZXF1ZXN0KCcvYWRtaW4vaW5mbycpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwKSk7IC8vIG5leHQoKQoKICAgICAgICAgIG5leHQodG8ucGF0aCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBuZXh0KCk7CiAgfSBlbHNlIHsKICAgIGlmICh0by5wYXRoID09PSAnLycpIHsKICAgICAgbmV4dCgpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgnLz9yZWRpcmVjdD0nICsgdG8ucGF0aCk7CiAgICB9CiAgfQp9KTsKbmV3IFZ1ZSh7CiAgcm91dGVyOiByb3V0ZXIsCiAgc3RvcmU6IHN0b3JlLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KS4kbW91bnQoJyNhcHAnKTs="},{"version":3,"sources":["D:/yeb/src/main.js"],"names":["Vue","App","router","ElementUI","store","getRequest","postRequest","putRequest","deleteRequest","initMenu","config","productionTip","use","prototype","beforeEach","to","from","next","console","log","path","window","sessionStorage","getItem","then","resp","setItem","JSON","stringify","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,mCAAP,C,CACA;;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,UAAlC,EAA8CC,aAA9C,QAAmE,aAAnE;AACA,SAASC,QAAT,QAAyB,eAAzB;AACAT,GAAG,CAACU,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAX,GAAG,CAACY,GAAJ,CAAQT,SAAR;AAEAH,GAAG,CAACa,SAAJ,CAAcP,WAAd,GAA4BA,WAA5B;AACAN,GAAG,CAACa,SAAJ,CAAcR,UAAd,GAA2BA,UAA3B;AACAL,GAAG,CAACa,SAAJ,CAAcN,UAAd,GAA2BA,UAA3B;AACAP,GAAG,CAACa,SAAJ,CAAcL,aAAd,GAA8BA,aAA9B,C,CAEA;;AACAN,MAAM,CAACY,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBH,IAAI,CAACI,IAAjC;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAcJ,EAAE,CAACK,IAA7B;;AACA,MAAIC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAJ,EAA+C;AAC7Cd,IAAAA,QAAQ,CAACP,MAAD,EAASE,KAAT,CAAR;;AACA,QAAI,CAACiB,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,MAA9B,CAAL,EAA4C;AAC1C;AACA,aAAOlB,UAAU,CAAC,aAAD,CAAV,CAA0BmB,IAA1B,CAA+B,UAAAC,IAAI,EAAI;AAC5C,YAAIA,IAAJ,EAAU;AACRJ,UAAAA,MAAM,CAACC,cAAP,CAAsBI,OAAtB,CAA8B,MAA9B,EAAsCC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAtC,EADQ,CAER;;AACAR,UAAAA,IAAI,CAACF,EAAE,CAACK,IAAJ,CAAJ;AACD;AACF,OANM,CAAP;AAOD;;AACDH,IAAAA,IAAI;AACL,GAbD,MAaO;AACL,QAAIF,EAAE,CAACK,IAAH,KAAY,GAAhB,EAAqB;AACnBH,MAAAA,IAAI;AACL,KAFD,MAEO;AACLA,MAAAA,IAAI,CAAC,gBAAgBF,EAAE,CAACK,IAApB,CAAJ;AACD;AACF;AACF,CAxBD;AA0BA,IAAIpB,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENE,EAAAA,KAAK,EAALA,KAFM;AAGNyB,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC7B,GAAD,CAAL;AAAA;AAHH,CAAR,EAIG8B,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport store from './store'\r\nimport 'font-awesome/css/font-awesome.css'\r\n// eslint-disable-next-line no-unused-vars\r\nimport { getRequest, postRequest, putRequest, deleteRequest } from './utils/api'\r\nimport { initMenu } from './utils/menus'\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\n\r\nVue.prototype.postRequest = postRequest\r\nVue.prototype.getRequest = getRequest\r\nVue.prototype.putRequest = putRequest\r\nVue.prototype.deleteRequest = deleteRequest\r\n\r\n// 路由导航守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  // 存在token 该用户已经登录初始化路由\r\n  console.log('路由导航守卫from：' + from.path)\r\n  console.log('路由导航守卫to：' + to.path)\r\n  if (window.sessionStorage.getItem('tokenStr')) {\r\n    initMenu(router, store)\r\n    if (!window.sessionStorage.getItem('user')) {\r\n      // 不存在用户信息 获取用户信息 并存入session中\r\n      return getRequest('/admin/info').then(resp => {\r\n        if (resp) {\r\n          window.sessionStorage.setItem('user', JSON.stringify(resp))\r\n          // next()\r\n          next(to.path)\r\n        }\r\n      })\r\n    }\r\n    next()\r\n  } else {\r\n    if (to.path === '/') {\r\n      next()\r\n    } else {\r\n      next('/?redirect=' + to.path)\r\n    }\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"]}]}